---
title: "Project 2 - 607, Part 3"
author: "Sangeetha Sasikumar"
date: "10/9/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
```

##Loaded in the data from the csv. 
```{r}
fruits<-read.csv("https://raw.githubusercontent.com/Sangeetha-007/R-Practice/master/607/Projects/Project%202/Fruit%20Prices.csv")
fruits

```

## Used the "duplicated" function to check if there are duplicates. Then, I used the distinct function to remove duplicates. 
```{r}
duplicated(fruits)

fruits<- distinct(fruits)
fruits
```


##I used the gsub method to remove quotation marks from the item column. 
```{r}
fruits$item<-gsub('"',"",as.character(fruits$item))
fruits
```

##Next, I used gsub to remove quotation marks from the price column. 
```{r}
class(fruits)

fruits$price<- gsub('"',"",as.character(fruits$price))

```

##I tried to use gsub to remove the quotation marks from the price, but it didn't work. It ended up working with the gsub inside a mutate. 
```{r}
#This code did not work. 
#fruits$price<- gsub('$',"",as.character(fruits$price))
#fruits
```
```{r}
fruits %>% 
  mutate(across(starts_with("price"), ~gsub("\\$", "", .) %>% as.numeric))
```
```{r}
sapply (fruits, class)
fruits
```

##I used parse_number inside a mutate to convert the price from character to a numeric. 
```{r}
fruits<- fruits %>%  
  mutate(price = parse_number(price))

sapply(fruits, class)
fruits

```
```{r}
summarise(fruits)
```
Finally, I created a bar graph to show the calories of each item. The graph shows bananas have the most calories, and clementines have the least. 
```{r}
ggplot(fruits, aes( y=`calories`, x=item)) + 
    geom_bar(position="dodge", stat="identity")

```

Source: https://www.datanovia.com/en/lessons/identify-and-remove-duplicate-data-in-r/,
https://stackoverflow.com/questions/64741916/how-to-remove-the-dollar-sign-in-r

